# üìä Binance OrderBook Data Collector

–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö orderbook —Å –±–∏—Ä–∂–∏ Binance –¥–ª—è 200 —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä —Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –Ω–∞ Digital Ocean.

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:
- **–°–±–æ—Ä–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö orderbook** —Å –±–∏—Ä–∂–∏ Binance —á–µ—Ä–µ–∑ WebSocket API (~9,000 —Å–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω—É—Ç—É)
- **–ù–∞–∫–æ–ø–ª–µ–Ω–∏—è –≤ PostgreSQL** –Ω–∞ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Digital Ocean
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ 200 —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä** —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–µ–π Docker
- **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è REST API** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –∏–∑ –ª—é–±–æ–π —Ç–æ—á–∫–∏ –º–∏—Ä–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### ‚ö° –£–¥–∞–ª–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/demetrius2017/DATA_Storage.git
cd DATA_Storage

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
./scripts/install_dependencies.sh

# –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_SERVER_IP)
./scripts/deploy_remote_collector.sh YOUR_SERVER_IP

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
python scripts/remote_collector_client.py --server http://YOUR_SERVER_IP start \
    --symbols BTCUSDT ETHUSDT SOLUSDT \
    --database-url "postgresql://user:pass@host:port/db"
```

### üê≥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (legacy)

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/demetrius2017/DATA_Storage.git
cd DATA_Storage

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
chmod +x manage.sh
./manage.sh deploy
```

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [collector/docs/deployment_guide.md](collector/docs/deployment_guide.md)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–ª–∞—á–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è

```
Digital Ocean Infrastructure
‚îú‚îÄ‚îÄ Droplet (4GB RAM, 2 vCPU)          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ Docker Containers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orderbook-collector        # –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (200 —Å–∏–º–≤–æ–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fastapi-server             # REST API 
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prometheus                 # –ú–µ—Ç—Ä–∏–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ grafana                    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îÇ   ‚îî‚îÄ‚îÄ Nginx Proxy                    # Load balancer
‚îî‚îÄ‚îÄ Managed PostgreSQL (1GB RAM)       # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
    ‚îú‚îÄ‚îÄ SSL Connections
    ‚îú‚îÄ‚îÄ Automatic Backups
    ‚îî‚îÄ‚îÄ Global Access
```

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –ø–∞—Ä—ã

**200 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä Binance Futures:**

```python
# –¢–æ–ø-20 –ø–æ –æ–±—ä–µ–º–∞–º (–≤—Å–µ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω—ã)
TIER_1 = ["BTCUSDT", "ETHUSDT", "BNBUSDT", "SOLUSDT", "XRPUSDT", ...]

# –ê–ª—å—Ç–∫–æ–π–Ω—ã (50 –ø–∞—Ä)
TIER_2 = ["ADAUSDT", "DOGEUSDT", "MATICUSDT", "LINKUSDT", ...]

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ (130 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä)
TIER_3 = [...] 
```

**–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫:** [collector/config/symbols.py](collector/config/symbols.py)

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É:

| –°–µ—Ä–≤–∏—Å | URL | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|-----|-----------|
| **REST API** | `http://YOUR_IP:8080` | –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º orderbook |
| **Remote Management** | `http://YOUR_IP:8000` | –£–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–º |
| **Grafana** | `http://YOUR_IP:3000` | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∞—à–±–æ—Ä–¥—ã |
| **Prometheus** | `http://YOUR_IP:9090` | –ú–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã |

## üéÆ –£–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–º

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
./scripts/deploy_remote_collector.sh YOUR_SERVER_IP root

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ª–æ–∫–∞–ª—å–Ω–æ
./scripts/install_dependencies.sh
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞
python scripts/remote_collector_client.py --server http://YOUR_IP summary

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
python scripts/remote_collector_client.py --server http://YOUR_IP start \
    --symbols BTCUSDT ETHUSDT SOLUSDT \
    --database-url "postgresql://..."

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ç–æ—Ä
python scripts/remote_collector_client.py --server http://YOUR_IP stop

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
python scripts/remote_collector_client.py --server http://YOUR_IP monitor --duration 30

# –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¢–ó
python scripts/remote_collector_client.py --server http://YOUR_IP validate
```

### Web Dashboard –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–µ–Ω –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π dashboard:

- **Management Dashboard**: `http://YOUR_IP:8000/`
- **Real-time Monitoring**: WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- **API Documentation**: `http://YOUR_IP:8000/docs`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¢–ó

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–æ–±–∏—Ä–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é:

- ‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π –∏ —Ç–∏–ø–æ–≤
- ‚úÖ **–°–≤–µ–∂–µ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**: –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å—Ç–∞—Ä—à–µ 5 –º–∏–Ω—É—Ç  
- ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö**: –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ NULL –∑–Ω–∞—á–µ–Ω–∏–π, –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ü–µ–Ω
- ‚úÖ **–ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**: –º–∏–Ω–∏–º—É–º 1 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –º–∏–Ω—É—Ç—É –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤

## üìà API Endpoints

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö orderbook

```bash
# –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ BTCUSDT
curl http://YOUR_IP:8080/data/BTCUSDT

# –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–µ—Ä–∏–æ–¥
curl "http://YOUR_IP:8080/data/BTCUSDT?from=2024-01-01T00:00:00Z&to=2024-01-01T01:00:00Z"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤
curl http://YOUR_IP:8080/stats

# –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã
curl http://YOUR_IP:8080/health
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ API

```json
{
  "symbol": "BTCUSDT",
  "timestamp": 1703875200.123,
  "bids": [
    {"price": "43500.00", "quantity": "0.15", "level": 0},
    {"price": "43499.99", "quantity": "0.25", "level": 1}
  ],
  "asks": [
    {"price": "43500.01", "quantity": "0.20", "level": 0},
    {"price": "43500.02", "quantity": "0.30", "level": 1}
  ],
  "spread": "0.01",
  "mid_price": "43500.005"
}
```

## üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

### –£–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
./scripts/deploy_remote_collector.sh YOUR_SERVER_IP

# –ó–∞–ø—É—Å–∫ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
python scripts/remote_collector_client.py --server http://YOUR_IP start \
    --symbols BTCUSDT ETHUSDT SOLUSDT \
    --database-url "postgresql://..."

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
python scripts/remote_collector_client.py --server http://YOUR_IP monitor

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ –¢–ó
python scripts/remote_collector_client.py --server http://YOUR_IP validate

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python scripts/remote_collector_client.py --server http://YOUR_IP db-stats
```

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (legacy)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./manage.sh status

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
./manage.sh logs collector

# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤
./manage.sh scale 100

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
./manage.sh restart

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
./manage.sh monitor

# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
./manage.sh backup
```

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —ç—Ç–∞–ø–∞–º

```bash
# –≠—Ç–∞–ø 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3 —Å–∏–º–≤–æ–ª–∞)
./manage.sh scale 3

# –≠—Ç–∞–ø 2: –ü–∏–ª–æ—Ç (50 —Å–∏–º–≤–æ–ª–æ–≤) 
./manage.sh scale 50

# –≠—Ç–∞–ø 3: –ü—Ä–æ–¥–∞–∫—à–µ–Ω (200 —Å–∏–º–≤–æ–ª–æ–≤)
./manage.sh scale 200
```

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

### –û–∂–∏–¥–∞–µ–º–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | 50 —Å–∏–º–≤–æ–ª–æ–≤ | 200 —Å–∏–º–≤–æ–ª–æ–≤ |
|----------|-------------|---------------|
| **–°–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω** | ~2,250 | ~9,000 |
| **–î–∞–Ω–Ω—ã—Ö/–¥–µ–Ω—å** | ~100MB | ~400MB |
| **–î–∞–Ω–Ω—ã—Ö/–º–µ—Å—è—Ü** | ~3GB | ~12GB |
| **CPU Usage** | 15-25% | 30-50% |
| **Memory Usage** | 30-40% | 60-80% |

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **Connection Pooling**: 20 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫ PostgreSQL
- **Batch Processing**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ 100 –∑–∞–ø–∏—Å–µ–π
- **Compression**: –°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- **Indexing**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –ø–æ timestamp –∏ symbol

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ PostgreSQL
- ‚úÖ Firewall –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã)
- ‚úÖ READ-ONLY API –∫–ª—é—á–∏ Binance
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ credentials –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ Non-root –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã Docker

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ Health checks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ Graceful shutdown –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã PostgreSQL
- ‚úÖ Monitoring —Å –∞–ª–µ—Ä—Ç–∞–º–∏ –≤ Grafana

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è | –°—Ç–æ–∏–º–æ—Å—Ç—å/–º–µ—Å—è—Ü |
|-----------|--------------|-----------------|
| **Droplet** | 4GB RAM, 2 vCPU, 80GB SSD | $24 |
| **PostgreSQL** | 1GB RAM, 10GB Storage | $15 |
| **Backup Space** | 20GB | $2 |
| **Total** | | **$41/–º–µ—Å—è—Ü** |

*–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è 200 —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä —Å –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π*

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

```bash
# 2GB Droplet + Shared PostgreSQL
# 3-10 —Å–∏–º–≤–æ–ª–æ–≤
# ~$15/–º–µ—Å—è—Ü
```

### –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
# 4GB Droplet + Managed PostgreSQL
# 50-200 —Å–∏–º–≤–æ–ª–æ–≤  
# ~$41/–º–µ—Å—è—Ü
```

### Enterprise –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
# 8GB Droplet + High-Performance PostgreSQL
# 200+ —Å–∏–º–≤–æ–ª–æ–≤ —Å high-frequency –¥–∞–Ω–Ω—ã–º–∏
# ~$85/–º–µ—Å—è—Ü
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ Grafana

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã

1. **System Overview**
   - CPU, Memory, Disk usage
   - Network I/O
   - Container status

2. **OrderBook Metrics**
   - Messages per minute by symbol
   - WebSocket connection status
   - Data processing latency

3. **Database Performance**
   - PostgreSQL connections
   - Query performance
   - Storage growth

4. **Business Metrics**
   - Market coverage (active symbols)
   - Data quality scores
   - Uptime statistics

## üîß –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
git clone https://github.com/demetrius2017/DATA_Storage.git
cd DATA_Storage

# –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
pip install -r requirements.txt

# –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å 1 —Å–∏–º–≤–æ–ª–æ–º
python -m collector.main --symbol BTCUSDT --output-dir ./data

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python -m pytest tests/ -v
```

### Docker –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
docker-compose -f docker-compose.local.yml up --build

# –¢–æ–ª—å–∫–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
docker-compose -f docker-compose.local.yml up postgres

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å hot-reload
docker-compose -f docker-compose.dev.yml up
```

## üìã Roadmap

### ‚úÖ Phase 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] WebSocket –∫–æ–ª–ª–µ–∫—Ç–æ—Ä Binance
- [x] PostgreSQL –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
- [x] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- [x] Digital Ocean —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### ‚úÖ Phase 2: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] 200 —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä
- [x] Batch processing
- [x] Connection pooling
- [x] Monitoring stack

### ‚úÖ Phase 3: –£–¥–∞–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- [x] REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–æ–º
- [x] WebSocket –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [x] Web Dashboard —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¢–ó
- [x] –°–∏—Å—Ç–µ–º—ã systemd –¥–ª—è production
- [x] –ö–ª–∏–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### üîÑ Phase 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- [ ] Real-time –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- [ ] Machine Learning features
- [ ] Advanced alerting
- [ ] Performance tuning

### üìã Phase 4: Enterprise features
- [ ] Multi-region deployment
- [ ] Load balancing
- [ ] Advanced security
- [ ] Custom analytics

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –î–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. –°–ª–µ–¥—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∫–æ–¥–∞ (PEP 8)
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
5. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
6. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- Docker –∏ Docker Compose
- PostgreSQL –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- Binance API –∫–ª—é—á–∏ (testnet –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
DATA_Storage/
‚îú‚îÄ‚îÄ scripts/                          # –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ deploy_remote_collector.sh     # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ remote_collector_client.py     # –ö–ª–∏–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ install_dependencies.sh        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ collector/                         # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ management/                    # –°–∏—Å—Ç–µ–º–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ collector_api.py           # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ validation/                    # –í–∞–ª–∏–¥–∞—Ü–∏—è –¢–ó
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data_validator.py          # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ingestion/                     # –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ docs/                          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ deployment_guide.md        # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îú‚îÄ‚îÄ DEPLOYMENT_READY.md               # –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îî‚îÄ‚îÄ README.md                         # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

1. **Quick Start Guide**: [QUICK_START.md](QUICK_START.md)
2. **Deployment Guide**: [CLOUD_DEPLOYMENT_GUIDE.md](CLOUD_DEPLOYMENT_GUIDE.md)
3. **GitHub Issues**: [–°–æ–∑–¥–∞—Ç—å issue](https://github.com/demetrius2017/DATA_Storage/issues)
4. **Email –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: support@orderbook-collector.dev

### Troubleshooting

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./manage.sh status

# –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
./manage.sh logs collector

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
curl http://YOUR_IP:8080/health
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).

---

## üéâ –ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!

**–£–¥–∞–ª–µ–Ω–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (1-2 –∫–æ–º–∞–Ω–¥—ã):**

```bash
git clone https://github.com/demetrius2017/DATA_Storage.git && cd DATA_Storage && \
./scripts/install_dependencies.sh && \
./scripts/deploy_remote_collector.sh YOUR_SERVER_IP
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ CLI:**

```bash
# –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
python scripts/remote_collector_client.py --server http://YOUR_IP start \
    --symbols BTCUSDT ETHUSDT SOLUSDT --database-url "postgresql://..."

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  
python scripts/remote_collector_client.py --server http://YOUR_IP monitor
```

**–í–∞—à —É–¥–∞–ª–µ–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π OrderBook –∫–æ–ª–ª–µ–∫—Ç–æ—Ä –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç!** üöÄ

---

*–°–æ–±–∏—Ä–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —Å 200 —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä Binance —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º, real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¢–ó. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ —Ä—ã–Ω–æ—á–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.*